{"version":3,"sources":["components/layout/Navbar.js","views/Login.js","views/Signup.js","views/Logout.js","views/Dashboard.js","views/PostCreate.js","components/CommentCreate.js","components/CommentNester.js","components/Comment.js","views/PostRender.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useState","isAuth","setIsAuth","useEffect","localStorage","getItem","className","to","Login","props","username","setUsername","password","setPassword","errors","setErrors","loading","setLoading","window","location","replace","onSubmit","e","preventDefault","user","fetch","method","headers","body","JSON","stringify","then","res","json","data","key","clear","setItem","id","htmlFor","name","type","value","required","onChange","target","Signup","password1","setPassword1","password2","setPassword2","Logout","onClick","Authorization","console","log","Dashboard","news","setNews","favorites","reverse","map","element","href","url","title","style","fontSize","Post","setTitle","setUrl","text","setText","rows","cols","CommentCreate","comment","setComment","commentObj","newspost","postId","replyTo","post","mainPage","hasReplies","cancelButton","onNewComment","CommentNester","replies","setReplies","activeTextFieldForReply","setActiveTextFieldForReply","activeFieldForReply","setActiveFieldForReply","replySwitchOn","setReplySwitchOn","localUserId","showReplies","commentId","updateMode","repliesToComment","Object","keys","length","onNewPost","commentToRefresh","filter","onCommentDelete","comments","index","customuser","comment_date","commentReplyTo","a","newReplies","commentIndexUpdate","findIndex","updateHasReplies","c","p","u","b","Comment","PostRender","useParams","PostId","postData","setPostData","setComments","voteState","setVoteState","setFavorites","getComments","dataOfPost","commentsOfPost","catch","error","reload","split","includes","toString","point","newValuesOfFavorites","item","newComments","t","App","onSubmitLogin","path","component","exact","PostCreate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab3f9f6c.chunk.js","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') !== null) {\r\n            setIsAuth(true);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <nav className='mb-1 bg-dark p-1 w-100'>\r\n            {isAuth === true ? (\r\n                <Fragment>\r\n                    {' '}\r\n                    <Link to='/'>Home</Link>\r\n                    <span> | </span>\r\n                    <Link to='/logout'>Logout</Link>\r\n                    <span> | </span>\r\n                    <Link to='/post-news'>Post</Link>\r\n                </Fragment>\r\n            ) : (\r\n                <Fragment>\r\n                    {' '}\r\n                    <Link to='/login'>Login</Link>\r\n                    <span> | </span>\r\n                    <Link to='/signup'>Signup</Link>\r\n                    <span> | </span>\r\n                    <Link to='/'>Home</Link>\r\n\r\n                </Fragment>\r\n            )}\r\n        </nav >\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React, { useState, useEffect } from 'react';\r\n\r\nconst Login = (props) => {\r\n    // console.log(props)\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errors, setErrors] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') !== null) {\r\n            window.location.replace('/');\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const user = {\r\n            // email: email,\r\n            username: username,\r\n            password: password\r\n        };\r\n\r\n        fetch('/api/users/auth/login/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.key) {\r\n                    // console.log(data)\r\n                    localStorage.clear();\r\n                    localStorage.setItem('token', data.key);\r\n                    localStorage.setItem('userId', data.user.id);\r\n                    window.location.replace('/');\r\n                } else {\r\n                    setUsername('');\r\n                    setPassword('');\r\n                    localStorage.clear();\r\n                    setErrors(true);\r\n                }\r\n            });\r\n    };\r\n\r\n    const onSubmitNew = e => {\r\n        e.preventDefault();\r\n        props.onSubmit(username, password)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* {loading === false && <h1>Login</h1>} */}\r\n            {loading === false && (\r\n                <form onSubmit={onSubmit}\r\n                    className='mt-1'>\r\n                    <div className='form-group col-md-6'>\r\n                        <label className='' htmlFor='username'>Username:</label>\r\n                        <input\r\n                            className='mx-1 form-control'\r\n                            name='username'\r\n                            type='text'\r\n                            value={username}\r\n                            required\r\n                            onChange={e => setUsername(e.target.value)}\r\n                        /></div>\r\n                    <div className='form-group col-md-6'>\r\n                        <label htmlFor='password'>Password:</label>\r\n                        <input\r\n                            className='mx-1 form-control'\r\n                            name='password'\r\n                            type='password'\r\n                            value={password}\r\n                            required\r\n                            onChange={e => setPassword(e.target.value)}\r\n                        /></div>\r\n                    <input className='btn btn-primary' type='submit' value='Login' />\r\n                </form>\r\n            )}\r\n            {errors === true && <section>Cannot log in with provided credentials</section>}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useState, useEffect } from 'react';\r\n\r\nconst Signup = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password1, setPassword1] = useState('');\r\n    const [password2, setPassword2] = useState('');\r\n    const [errors, setErrors] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') !== null) {\r\n            window.location.replace('/dashboard');\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const user = {\r\n            username: username,\r\n            password1: password1,\r\n            password2: password2\r\n        };\r\n\r\n        fetch('/api/users/auth/register/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.key) {\r\n                    localStorage.clear();\r\n                    localStorage.setItem('token', data.key);\r\n                    localStorage.setItem('userId', data.user.id);\r\n                    window.location.replace('/');\r\n                } else {\r\n                    setUsername('');\r\n                    setPassword1('');\r\n                    setPassword2('');\r\n                    localStorage.clear();\r\n                    setErrors(true);\r\n                }\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loading === false && <h1>Signup</h1>}\r\n            {errors === true && <h2>Cannot signup with provided credentials</h2>}\r\n            <form onSubmit={onSubmit}>\r\n                <div>\r\n                    <label htmlFor='username'>Username:</label> <br />\r\n                    <input\r\n                        className='form-control'\r\n                        name='username'\r\n                        type='username'\r\n                        value={username}\r\n                        onChange={e => setUsername(e.target.value)}\r\n                        required\r\n                    /></div><div>\r\n                    <label htmlFor='password1'>Password:</label> <br />\r\n                    <input\r\n                        className='form-control'\r\n                        name='password1'\r\n                        type='password'\r\n                        value={password1}\r\n                        onChange={e => setPassword1(e.target.value)}\r\n                        required\r\n                    /></div><div>\r\n                    <label htmlFor='password2'>Confirm password:</label> <br />\r\n                    <input\r\n                        className='form-control'\r\n                        name='password2'\r\n                        type='password'\r\n                        value={password2}\r\n                        onChange={e => setPassword2(e.target.value)}\r\n                        required\r\n                    /></div>\r\n                <input className='my-1 btn btn-primary' type='submit' value='Signup' />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;","import React, { useState, useEffect, Fragment } from 'react';\r\n\r\nconst Logout = () => {\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') == null) {\r\n            window.location.replace('/login');\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleLogout = e => {\r\n        e.preventDefault();\r\n\r\n        fetch('/api/users/auth/logout/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Token ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                localStorage.clear();\r\n                window.location.replace('/login');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loading === false && (\r\n                <Fragment>\r\n                    <h4>Are you sure you want to logout?</h4>\r\n                    <input className='btn btn-danger my-1' type='button' value='Logout' onClick={handleLogout} />\r\n                </Fragment>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Logout;","import React, { useState, useEffect, Fragment } from 'react';\r\n\r\nconst Dashboard = () => {\r\n    const [userEmail, setUserEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [news, setNews] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') === null) {\r\n            // window.location.replace('/login');\r\n        } else {\r\n            fetch('/api/users/auth/user/', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Token ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    // setUserEmail(data.email);\r\n                    console.log(data)\r\n                    setUsername(data.username)\r\n                    localStorage.setItem('favorites', data.favorites)\r\n                    console.log('dashboard favorites: ', localStorage.getItem('favorites'))\r\n                });\r\n        }\r\n        fetch('/api/data/news/', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                setNews(data.reverse())\r\n                setLoading(false);\r\n            }\r\n            )\r\n    }, []);\r\n\r\n    return (\r\n        <div className='d-flex flex-column align-items-center'>\r\n            {loading === false && (\r\n                <Fragment>\r\n                    {/* <h1>Dashboard</h1> */}\r\n                    {/* <section className='mt-1'>Hello {username}!</section> */}\r\n                    <div className='col-12 col-sm-10 col-md-10'>\r\n                        {news.map(element => {\r\n                            return (<div key={element.id} className='bg-secondary py-1 px-2 rounded my-1'>\r\n                                <a className='postLinks' href={`${element.url}`}>{element.title}</a>\r\n                                <span>  </span>\r\n                                <a className='commentLinks' style={{ fontSize: '0.8rem' }} href={`news/${element.id}`} >Comments</a>\r\n                            </div>)\r\n                        })}\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import React, { useState, useEffect, Fragment } from 'react';\r\n\r\nconst Post = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [url, setUrl] = useState('');\r\n    const [text, setText] = useState('');\r\n\r\n\r\n    const onPost = e => {\r\n        e.preventDefault();\r\n        console.log('post going')\r\n        if (localStorage.getItem('token') === null) {\r\n            window.location.replace('/login');\r\n        } else {\r\n            fetch('/api/data/news/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Token ${localStorage.getItem('token')}`\r\n                },\r\n                body: JSON.stringify({ title, url, text })\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    if (data.id) {\r\n                        window.location.replace('/')\r\n                    }\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='mt-2'>\r\n                <form onSubmit={onPost}\r\n                    className='m-1'>\r\n                    <label htmlFor='title'>Title</label>\r\n                    <input\r\n                        className='form-control'\r\n                        name='title'\r\n                        type='text'\r\n                        value={title}\r\n                        required\r\n                        onChange={e => setTitle(e.target.value)}\r\n                    />{' '}\r\n                    {/* <br /> */}\r\n                    <label htmlFor='url'>Url</label>\r\n                    <input\r\n                        className='form-control'\r\n                        name='url'\r\n                        type='text'\r\n                        value={url}\r\n                        onChange={e => setUrl(e.target.value)}\r\n                    />{' '}\r\n                    <label htmlFor=''>Text</label>\r\n                    <textarea\r\n                        className='form-control'\r\n                        name='comment'\r\n                        id='comment'\r\n                        value={text}\r\n                        onChange={e => setText(e.target.value)}\r\n                        rows=\"3\" cols=\"40\"></textarea>\r\n                    <input className='btn btn-primary' type='submit' value='Post' />\r\n                </form>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Post;","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CommentCreate = (props) => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n    const [comment, setComment] = useState('');\r\n\r\n    useEffect(() => {\r\n\r\n    }, []);\r\n\r\n    function onCommentSubmit(e) {\r\n        e.preventDefault()\r\n        console.log(comment)\r\n        console.log('comment going')\r\n        if (localStorage.getItem('token') === null) {\r\n            window.location.replace('/login');\r\n        } else {\r\n            fetch('/api/users/auth/user/', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Token ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    // setUserEmail(data.email);\r\n                    // setUsername(data.username)\r\n                    // setLoading(false);\r\n                    // console.log(data)\r\n                    let commentObj = { text: comment, user: data.id, newspost: props.postId, replyTo: props.replyTo }\r\n                    console.log(commentObj)\r\n                    return commentObj;\r\n                })\r\n                .then(post => {\r\n                    fetch(`/api/data/comment/`, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                            Authorization: `Token ${localStorage.getItem('token')}`\r\n                        },\r\n                        body: JSON.stringify(post)\r\n                    })\r\n                        .then(res => res.json())\r\n                        .then(data => {\r\n                            console.log(data)\r\n                            setComment('')\r\n                            if (data.id && !props.mainPage) {\r\n                                //update the replied comment with hasReplies=true value\r\n                                let commentObj = { hasReplies: true }\r\n                                fetch(`/api/data/comment/${props.replyTo}/`, {\r\n                                    method: 'PATCH',\r\n                                    headers: {\r\n                                        'Content-Type': 'application/json',\r\n                                        Authorization: `Token ${localStorage.getItem('token')}`\r\n                                    },\r\n                                    body: JSON.stringify(commentObj)\r\n                                }).then(() => {\r\n                                    props.cancelButton()\r\n                                    console.log(props.replyTo, props.postId)\r\n                                    props.onNewComment(props.replyTo, props.postId, true)\r\n                                    // window.location.replace(`/news/${props.postId}`)\r\n                                })\r\n                            } else {\r\n                                props.onNewComment(props.replyTo, props.postId, true)\r\n                                // window.location.replace(`/news/${props.postId}`)\r\n                            }\r\n                        })\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <form className='mx-1 mt-2 form-group' onSubmit={onCommentSubmit}>\r\n            <textarea\r\n                className='form-control'\r\n                name='comment'\r\n                id='comment'\r\n                required\r\n                value={comment}\r\n                onChange={e => setComment(e.target.value)}\r\n                rows=\"3\" cols=\"40\"></textarea>\r\n            <button className='btn btn-sm btn-primary' type=\"submit\">add comment</button>\r\n            <span> </span>\r\n            {props.mainPage\r\n                ? ''\r\n                : <button className='btn btn-sm btn-danger' onClick={props.cancelButton}>cancel</button>}\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default CommentCreate;","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport CommentCreate from './CommentCreate'\r\nimport Comment from './Comment'\r\n\r\nconst CommentNester = (props) => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n    const [replies, setReplies] = useState({});\r\n    const [activeTextFieldForReply, setActiveTextFieldForReply] = useState('');\r\n    const [activeFieldForReply, setActiveFieldForReply] = useState('');\r\n    const [replySwitchOn, setReplySwitchOn] = useState(true)\r\n    const [localUserId, setLocalUserId] = useState(localStorage.getItem('userId'))\r\n\r\n    function replyToComment(id) {\r\n        // e.preventDefault()\r\n        console.log(id)\r\n        setActiveFieldForReply('')\r\n        setActiveTextFieldForReply(id)\r\n    }\r\n\r\n    function showReplies(commentId, postId, updateMode = false) {\r\n        console.log('show replies for: ', commentId)\r\n        fetch(`/api/data/comment/?newspost=${postId}&replyTo=${commentId}`)\r\n            .then(res => {\r\n                console.log(res)\r\n                return res.json()\r\n            })\r\n            .then(repliesToComment => {\r\n                console.log('repliesToComment: ', repliesToComment)\r\n                // setComments(repliesToComment.reverse())\r\n                if (Object.keys(repliesToComment).length > 0) {\r\n                    if (activeFieldForReply == commentId && !updateMode) {\r\n                        //if button clicked on active frame close the frame.\r\n                        console.log('toggle enabled')\r\n                        setReplySwitchOn(!replySwitchOn)\r\n                    } else { setReplySwitchOn(true) }\r\n                    setReplies(repliesToComment.reverse())\r\n                    console.log('replies: ', replies)\r\n                    setActiveFieldForReply(commentId)\r\n                    setActiveTextFieldForReply('')\r\n                    if (updateMode) {\r\n                        //find the parent comment of the comment to be refreshed\r\n                        //this updates comment data and brings view reply button\r\n                        console.log('update mode comment id: ', commentId)\r\n                        props.onNewPost(commentId)\r\n                    }\r\n                } else {\r\n                    if (updateMode) {\r\n                        //if there is no replies left, update the comment field\r\n                        let commentObj = { hasReplies: false }\r\n                        fetch(`/api/data/comment/${commentId}/`, {\r\n                            method: 'PATCH',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                                Authorization: `Token ${localStorage.getItem('token')}`\r\n                            },\r\n                            body: JSON.stringify(commentObj)\r\n                        })\r\n                            .then(() => {\r\n                                //this closes the dropdown\r\n                                setActiveFieldForReply('')\r\n                                //find the parent comment of the comment to be refreshed\r\n                                //this refreshes comment data and removes view reply button \r\n                                let commentToRefresh = replies.filter(id => id == commentId)\r\n                                props.onCommentDelete(commentToRefresh.replyTo, props.postId, true)\r\n                            })\r\n                    } //else { setActiveFieldForReply(commentId) } // after cleaning database on second loop hide the deleted content\r\n                }\r\n            })\r\n    }\r\n\r\n    function cancelButton() {\r\n        setActiveTextFieldForReply('')\r\n    }\r\n\r\n    function deleteComment(commentId, commentReplyTo) {\r\n        fetch(`/api/data/comment/${commentId}/`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                Authorization: `Token ${localStorage.getItem('token')}`\r\n            },\r\n        })\r\n            // .then(res => res)\r\n            .then(data => {\r\n                console.log('delete reply: ', data)\r\n                // if (commentReplyTo) {\r\n                // console.log('commentReplyTo', commentReplyTo)\r\n                props.onCommentDelete(commentReplyTo, props.postId, true)\r\n                // }\r\n                // window.location.reload()\r\n            })\r\n    }\r\n\r\n    function updateHasReplies(commentId) {\r\n        let newReplies = [...replies]\r\n        let commentIndexUpdate = newReplies.findIndex(comment => comment.id == commentId)\r\n        console.log('commentIndexUpdate: ', commentIndexUpdate)\r\n        newReplies[commentIndexUpdate].hasReplies = true\r\n        setReplies(newReplies)\r\n    }\r\n\r\n    return (\r\n        Object.keys(props.comments).length > 0 // if there is any comment load comments\r\n            ? props.comments.map((comment, index) => {\r\n                return (\r\n                    <div key={comment.id} className=\"m-2 ms-3\">\r\n                        <section className='commentHeader'>{comment.customuser} - {comment.comment_date}</section>\r\n                        <div className='py-1'>{comment.text}</div>\r\n                        <button className='btn btn-sm btn-outline-primary' onClick={() => replyToComment(comment.id)}>reply</button>\r\n                        <span> </span>\r\n                        {comment.hasReplies\r\n                            ? <button className='btn btn-sm btn-outline-info' onClick={() => { showReplies(comment.id, props.postId) }}>view replies</button>\r\n                            : ''\r\n                        }\r\n                        <span> </span>\r\n                        {comment.user == localUserId\r\n                            ? <button className='btn btn-sm btn-outline-danger' onClick={() => { deleteComment(comment.id, comment.replyTo) }}>delete</button>\r\n                            : ''\r\n                        }\r\n                        {activeFieldForReply == comment.id && replySwitchOn\r\n                            ? <Comment onNewPost={(a) => updateHasReplies(a)}\r\n                                onCommentDelete={(c, p, u) => showReplies(c, p, u)}\r\n                                comments={replies} postId={props.postId} />\r\n                            : ''}\r\n                        {activeTextFieldForReply == comment.id\r\n                            ? <CommentCreate onNewComment={(a, b, u) => showReplies(a, b, u)} cancelButton={cancelButton} postId={props.postId} replyTo={comment.id} />\r\n                            : ''}\r\n                    </div>\r\n                )\r\n            })\r\n            : ''\r\n    )\r\n};\r\n\r\nexport default CommentNester;","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport CommentCreate from './CommentCreate'\r\nimport CommentNester from './CommentNester'\r\n\r\nconst Comment = (props) => {\r\n    const [isAuth, setIsAuth] = useState(false);\r\n    const [replies, setReplies] = useState({});\r\n    const [activeTextFieldForReply, setActiveTextFieldForReply] = useState('');\r\n    const [activeFieldForReply, setActiveFieldForReply] = useState('');\r\n    const [replySwitchOn, setReplySwitchOn] = useState(true)\r\n    const [localUserId, setLocalUserId] = useState(localStorage.getItem('userId'))\r\n\r\n    useEffect(() => {\r\n\r\n    }, []);\r\n\r\n    function replyToComment(id) {\r\n        // e.preventDefault()\r\n        console.log(id)\r\n        setActiveFieldForReply('')\r\n        setActiveTextFieldForReply(id)\r\n    }\r\n\r\n    function showReplies(commentId, postId, updateMode = false) {\r\n        console.log('show replies for: ', commentId)\r\n        fetch(`/api/data/comment/?newspost=${postId}&replyTo=${commentId}`)\r\n            .then(res => {\r\n                console.log(res)\r\n                return res.json()\r\n            })\r\n            .then(repliesToComment => {\r\n                console.log('repliesToComment: ', repliesToComment)\r\n                // setComments(repliesToComment.reverse())\r\n                if (Object.keys(repliesToComment).length > 0) {\r\n                    if (activeFieldForReply == commentId && !updateMode) {\r\n                        //if button clicked on active frame close the frame.\r\n                        console.log('toggle enabled')\r\n                        setReplySwitchOn(!replySwitchOn)\r\n                    } else { setReplySwitchOn(true) }\r\n                    setReplies(repliesToComment.reverse())\r\n                    console.log('replies: ', replies)\r\n                    setActiveFieldForReply(commentId)\r\n                    setActiveTextFieldForReply('')\r\n                    if (updateMode) {\r\n                        //find the parent comment of the comment to be refreshed\r\n                        //this updates comment data and brings view reply button\r\n                        console.log('update mode comment id: ', commentId)\r\n                        props.onNewPost(commentId)\r\n                    }\r\n                } else {\r\n                    if (updateMode) {\r\n                        //if there is no replies left, update the comment field\r\n                        let commentObj = { hasReplies: false }\r\n                        fetch(`/api/data/comment/${commentId}/`, {\r\n                            method: 'PATCH',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                                Authorization: `Token ${localStorage.getItem('token')}`\r\n                            },\r\n                            body: JSON.stringify(commentObj)\r\n                        })\r\n                            .then(() => {\r\n                                //this closes the dropdown\r\n                                setActiveFieldForReply('')\r\n                                let commentToRefresh = replies.filter(id => id == commentId)\r\n                                //this refreshes comment data and removes view reply button \r\n                                props.onCommentDelete(commentToRefresh.replyTo, props.postId, true)\r\n                            })\r\n                    } //else { setActiveFieldForReply(commentId) }\r\n                }\r\n            })\r\n    }\r\n\r\n    function cancelButton() {\r\n        setActiveTextFieldForReply('')\r\n    }\r\n\r\n    function deleteComment(commentId, commentReplyTo) {\r\n        fetch(`/api/data/comment/${commentId}/`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                Authorization: `Token ${localStorage.getItem('token')}`\r\n            },\r\n        })\r\n            // .then(res => res)\r\n            .then(data => {\r\n                console.log(data)\r\n                // if (commentReplyTo) {\r\n                // console.log('commentReplyTo', commentReplyTo)\r\n                props.onCommentDelete(commentReplyTo, props.postId, true)\r\n                // }\r\n                // window.location.reload()\r\n            })\r\n    }\r\n\r\n    function updateHasReplies(commentId) {\r\n        let newReplies = [...replies]\r\n        let commentIndexUpdate = newReplies.findIndex(comment => comment.id == commentId)\r\n        console.log('commentIndexUpdate: ', commentIndexUpdate)\r\n        newReplies[commentIndexUpdate].hasReplies = true\r\n        setReplies(newReplies)\r\n    }\r\n\r\n    return (\r\n        Object.keys(props.comments).length > 0 // if there is any comment load comments\r\n            ? props.comments.map((comment, index) => {\r\n                return (\r\n                    <div key={comment.id} className=\"m-2 ms-3\">\r\n                        <section className='commentHeader'>{comment.customuser} - {comment.comment_date}</section>\r\n                        <div className='py-1'>{comment.text}</div>\r\n                        <button className='btn btn-sm btn-outline-primary' onClick={() => replyToComment(comment.id)}>reply</button>\r\n                        <span> </span>\r\n                        {comment.hasReplies\r\n                            ? <button className='btn btn-sm btn-outline-info'\r\n                                onClick={() => { showReplies(comment.id, props.postId) }}>view replies</button>\r\n                            : ''\r\n                        }\r\n                        <span> </span>\r\n                        {comment.user == localUserId\r\n                            ? <button className='btn btn-sm btn-outline-danger'\r\n                                onClick={() => { deleteComment(comment.id, comment.replyTo) }}>delete</button>\r\n                            : ''\r\n                        }\r\n                        {activeFieldForReply == comment.id && replySwitchOn\r\n                            ? <CommentNester onNewPost={(a) => updateHasReplies(a)}\r\n                                onCommentDelete={(c, p, u) => showReplies(c, p, u)}\r\n                                comments={replies} postId={props.postId} />\r\n                            : ''}\r\n                        {activeTextFieldForReply == comment.id\r\n                            ? <CommentCreate onNewComment={(c, p, u) => showReplies(c, p, u)} cancelButton={cancelButton} postId={props.postId} replyTo={comment.id} />\r\n                            : ''}\r\n                    </div>\r\n                )\r\n            })\r\n            : ''\r\n    )\r\n};\r\n\r\nexport default Comment;","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useParams } from \"react-router\";\r\nimport CommentCreate from '../components/CommentCreate'\r\nimport Comment from '../components/Comment'\r\n\r\nfunction PostId() {\r\n    let { id } = useParams();\r\n    console.log('id: ', id)\r\n    return id;\r\n}\r\n\r\nconst PostRender = () => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [postId, setPostId] = useState(PostId());\r\n    const [postData, setPostData] = useState({});\r\n    const [comments, setComments] = useState({});\r\n    const [reply_to, setReply_to] = useState('0');\r\n    const [voteState, setVoteState] = useState('vote');\r\n    const [favorites, setFavorites] = useState('');\r\n    // PostID()\r\n\r\n    useEffect(() => {\r\n        console.log('look favorites: ', localStorage.getItem('favorites'))\r\n        if (localStorage.getItem('token') !== null) {\r\n            setFavorites(localStorage.getItem('favorites').split(','))\r\n        }\r\n        getComments(postId)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') !== null) {\r\n            console.log('favorites: ', favorites)\r\n            favorites.includes(postId.toString())\r\n                ? setVoteState('vote on')\r\n                : setVoteState('vote')\r\n        }\r\n    }, [favorites, postData])\r\n\r\n    function getComments(postId) {\r\n        //fetch the post\r\n        fetch(`/api/data/news/${postId}/`)\r\n            .then(res => res.json())\r\n            .then(dataOfPost => {\r\n                // setUserEmail(data.email);\r\n                // setUsername(data.username)\r\n                console.log('dataOfPost: ', dataOfPost)\r\n                setPostData(dataOfPost)\r\n            })\r\n            .then(() => {\r\n                //fetch the comments of the post\r\n                fetch(`/api/data/comment/?newspost=${postId}`)\r\n                    .then(res => {\r\n                        console.log(res)\r\n                        return res.json()\r\n                    })\r\n                    .then(commentsOfPost => {\r\n                        console.log('commentsOfPost: ', commentsOfPost)\r\n                        setComments(commentsOfPost.reverse())\r\n                        setLoading(false)\r\n                    })\r\n                    .catch(e => console.log('error for comment: ', e))\r\n            })\r\n            .catch(error => {\r\n                window.location.reload()\r\n                console.log(error, 'there is error')\r\n            })\r\n    }\r\n\r\n    function toggleVote() {\r\n        // console.log('favorites: ', favorites)\r\n        if (localStorage.getItem('token') !== null) {\r\n            if (voteState == 'vote') {\r\n                fetch(`/api/data/news/${postId}/?vote=up`, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: `Token ${localStorage.getItem('token')}`\r\n                    }\r\n                })\r\n                    .then(res => res.json())\r\n                    .then(data => {\r\n                        console.log('response from vote up:', data)\r\n                        postData.point = data.point\r\n                        // console.log('upvote old favorites: ', favorites)\r\n                        // let updatedFavorites = [...favorites, postId]\r\n                        // console.log('upvote favorites: ', updatedFavorites)\r\n                        setFavorites([...favorites, postId])\r\n                    })\r\n            } else {\r\n                fetch(`/api/data/news/${postId}/?vote=down`, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: `Token ${localStorage.getItem('token')}`\r\n                    }\r\n                })\r\n                    .then(res => res.json())\r\n                    .then(data => {\r\n                        postData.point = data.point\r\n                        console.log('postId when removing: ', postId)\r\n                        let newValuesOfFavorites = favorites.filter(item => item != postId)\r\n                        setFavorites(newValuesOfFavorites)\r\n                        // localStorage.setItem('favorites', )\r\n                    })\r\n            }\r\n        } else {\r\n            window.location.replace('/login');\r\n        }\r\n    }\r\n\r\n    function updateHasReplies(commentId) {\r\n        let newComments = [...comments]\r\n        let commentIndexUpdate = newComments.findIndex(comment => comment.id == commentId)\r\n        console.log('commentIndexUpdate: ', commentIndexUpdate)\r\n        newComments[commentIndexUpdate].hasReplies = true\r\n        setComments(newComments)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* {loading === false && ( */}\r\n            <Fragment>\r\n                <div className='col-md-8'>\r\n                    <h4><a className=\"postRenderLinks\" href={postData.url ? postData.url : ''}>{postData.title}</a>\r\n                        <span onClick={toggleVote} className={voteState}>\r\n                        </span> <small className='mx-2'>{postData.point}</small></h4>\r\n                    {postData.text ? <pre className='mb-2 postRender-textDisplay'>\r\n                        {postData.text}</pre> : ''}\r\n                </div>\r\n                <CommentCreate onNewComment={(a, b) => getComments(b)}\r\n                    mainPage={true} postId={postId} />\r\n                <Comment onNewPost={(a) => updateHasReplies(a)}\r\n                    onCommentDelete={(c, p, t) => getComments(p)}\r\n                    comments={comments} postId={postId} />\r\n            </Fragment>\r\n            {/* )} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostRender;","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/layout/Navbar';\nimport Login from './views/Login';\nimport Signup from './views/Signup';\nimport Logout from './views/Logout'; // New\nimport Dashboard from './views/Dashboard'; // New\nimport PostCreate from './views/PostCreate'; // New\nimport PostRender from './views/PostRender'; // New\nimport React, { useState, useEffect } from 'react';\n\n\nconst App = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const onSubmitLogin = (username, password) => {\n  }\n\n  useEffect(() => {\n    console.log(username)\n  })\n\n  return (\n    <div className='App'>\n      <Router>\n        <div className='mx-2 mt-1'>\n          <Navbar />\n          <Switch>\n            <Route path='/login' component={() => (<Login onSubmit={onSubmitLogin} />)} exact />\n            <Route path='/signup' component={Signup} exact />\n            <Route path='/logout' component={Logout} exact />\n            <Route path='/' component={Dashboard} exact />\n            <Route path='/post-news' component={PostCreate} exact />\n            <Route path='/news/:id' component={PostRender} exact />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}